

- hosts: all
  gather_facts: False


  tasks:
    - include_vars: main.yml

    - debug:
        msg: "Variable {{ item[1].path }}"
      with_subelements:
        - "{{ asm_disk_groups }}"
        - disks
      when: item[1].type == "file"
      register: disks

    - debug:
        msg: "Register || {{ item }} || End Register"
      with_items:
        - "{{ disks.results }}"

    - debug:
        msg: ""
      with_items:
        - "{{ operating_system }}"

    - debug:
        msg: "{{ operating_system.grid_infrastructure.groups }}"

    - debug:
        msg: "{{ operating_system.grid_infrastructure.groups | selectattr('title', 'equalto', 'osasm') | map(attribute='gid') | first }}"
